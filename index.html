<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CCNA 제3장 대화형 학습 SPA</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Visualization & Content Choices:
        - 네트워킹 기본: Text, interactive cards for characteristics (Goal: Inform, Interaction: Click to reveal details, Method: HTML/CSS/JS).
        - OSI 모델: Interactive 7-layer diagram (Goal: Organize/Inform, Interaction: Click layer to see details, Method: HTML/CSS/JS for diagram, JS for dynamic content update). Text for overview/benefits.
        - TCP/IP 스택: Interactive 4-layer diagram (Goal: Organize/Inform, Interaction: Click layer to see details, Method: HTML/CSS/JS for diagram, JS for dynamic content update). Text for overview.
        - 모델 비교: Side-by-side visual mapping of OSI and TCP/IP layers (Goal: Compare, Interaction: Static or hover effects, Method: HTML/CSS).
        - All diagrams will be built using styled HTML elements (divs) and JS for interactivity, not Chart.js or Plotly.js as the content is conceptual.
        - CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->

    <style>
        body {
            font-family: 'Inter', sans-serif; /* Tailwind default sans-serif is a good choice */
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .nav-button {
            transition: background-color 0.3s ease, color 0.3s ease;
        }
        .nav-button.active {
            background-color: #3b82f6; /* bg-blue-600 */
            color: white;
        }
        .layer-box {
            border: 2px solid transparent;
            transition: transform 0.2s ease-in-out, border-color 0.2s ease-in-out, background-color 0.2s ease-in-out;
        }
        .layer-box:hover {
            transform: translateY(-5px);
            border-color: #3b82f6; /* blue-600 */
        }
        .layer-box.selected {
            background-color: #bfdbfe; /* blue-200 */
            border-color: #2563eb; /* blue-700 */
        }
        .characteristic-card {
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        .characteristic-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }
        .details-pane {
            min-height: 150px; /* Ensure space for content */
        }
        /* Custom scrollbar for layer details (optional) */
        .details-pane::-webkit-scrollbar {
            width: 8px;
        }
        .details-pane::-webkit-scrollbar-track {
            background: #f1f5f9; /* coolGray-100 */
        }
        .details-pane::-webkit-scrollbar-thumb {
            background: #94a3b8; /* coolGray-400 */
            border-radius: 4px;
        }
        .details-pane::-webkit-scrollbar-thumb:hover {
            background: #64748b; /* coolGray-500 */
        }
        .comparison-grid > div {
            border: 1px solid #e5e7eb; /* gray-200 */
        }
    </style>
</head>
<body class="bg-stone-100 text-stone-800">
    <header class="bg-sky-700 text-white shadow-lg">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-4">
            <h1 class="text-2xl sm:text-3xl font-bold text-center">CCNA 제3장 대화형 학습기</h1>
        </div>
    </header>

    <nav class="bg-stone-200 shadow-md sticky top-0 z-50">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-wrap justify-center space-x-2 sm:space-x-4 py-3">
                <button data-target="basics" class="nav-button active text-sm sm:text-base font-medium px-3 py-2 sm:px-4 sm:py-2 rounded-md hover:bg-sky-500 hover:text-white">네트워킹 기본</button>
                <button data-target="osi" class="nav-button text-sm sm:text-base font-medium px-3 py-2 sm:px-4 sm:py-2 rounded-md hover:bg-sky-500 hover:text-white">OSI 모델</button>
                <button data-target="tcpip" class="nav-button text-sm sm:text-base font-medium px-3 py-2 sm:px-4 sm:py-2 rounded-md hover:bg-sky-500 hover:text-white">TCP/IP 스택</button>
                <button data-target="comparison" class="nav-button text-sm sm:text-base font-medium px-3 py-2 sm:px-4 sm:py-2 rounded-md hover:bg-sky-500 hover:text-white">모델 비교</button>
            </div>
        </div>
    </nav>

    <main class="container mx-auto p-4 sm:p-6 lg:p-8">
        <section id="basics" class="content-section active">
            <h2 class="text-2xl font-semibold mb-6 text-sky-700">네트워킹 기본</h2>
            <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
                <h3 class="text-xl font-semibold mb-3 text-stone-700">네트워크란 무엇인가?</h3>
                <p class="text-stone-600 leading-relaxed">
                    네트워크는 지리적으로 분산된 장치(컴퓨터, 서버, 라우터 등)들을 서로 연결하여 정보를 교환하고 자원을 공유할 수 있도록 하는 통신 시스템입니다. 예를 들어, 인터넷은 전 세계의 수많은 네트워크들을 연결하는 거대한 광역 네트워크(WAN)의 한 예입니다. 이를 통해 뉴욕과 보스턴, 혹은 서울과 런던처럼 멀리 떨어진 곳에서도 데이터를 주고받을 수 있습니다. 이 섹션에서는 네트워크의 기초와 주요 특성들을 살펴봅니다.
                </p>
            </div>

            <h3 class="text-xl font-semibold mb-4 text-stone-700">주요 네트워크 특성</h3>
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                </div>
            <div id="characteristic-details" class="mt-6 bg-white p-6 rounded-lg shadow-lg min-h-[100px]">
                <p class="text-stone-500 italic">위의 특성 중 하나를 클릭하여 설명을 확인하세요.</p>
            </div>
        </section>

        <section id="osi" class="content-section">
            <h2 class="text-2xl font-semibold mb-6 text-sky-700">OSI 모델 (Open Systems Interconnection Model)</h2>
            <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
                <h3 class="text-xl font-semibold mb-3 text-stone-700">OSI 모델 개요</h3>
                <p class="text-stone-600 leading-relaxed mb-2">
                    OSI(Open Systems Interconnection) 모델은 국제 표준화 기구(ISO)에서 개발한 네트워크 통신을 위한 개념적 프레임워크입니다. 이 모델은 복잡한 네트워크 통신 과정을 7개의 추상적인 계층으로 나누어 설명함으로써, 서로 다른 시스템 간의 상호 운용성을 확보하고 네트워크 기술 개발 및 학습을 용이하게 합니다. 각 계층은 특정 기능을 수행하며, 상위 계층에 서비스를 제공하고 하위 계층으로부터 서비스를 받습니다. 이 섹션에서는 OSI 7계층의 구조와 각 계층의 역할, 그리고 데이터 캡슐화 과정을 대화형으로 탐색합니다.
                </p>
                <p class="text-stone-600 leading-relaxed">
                    아래 다이어그램에서 각 계층을 클릭하여 상세 정보(기능, PDU, 관련 장비 등)를 확인해보세요.
                </p>
            </div>

            <div class="flex flex-col lg:flex-row gap-6">
                <div id="osi-layers-diagram" class="lg:w-1/3 grid grid-cols-1 gap-2">
                    </div>
                <div id="osi-layer-details" class="lg:w-2/3 bg-white p-6 rounded-lg shadow-lg details-pane overflow-y-auto">
                    <p class="text-stone-500 italic">왼쪽 다이어그램에서 계층을 선택하여 설명을 확인하세요.</p>
                </div>
            </div>
             <div class="mt-6 bg-white p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-semibold mb-3 text-stone-700">데이터 캡슐화 및 역캡슐화</h3>
                <p class="text-stone-600 leading-relaxed mb-2">
                    <strong>캡슐화 (Encapsulation):</strong> 송신 측에서 데이터는 응용 계층에서부터 물리 계층으로 내려가면서 각 계층의 프로토콜에 의해 헤더(때로는 트레일러)가 추가됩니다. 이 과정을 통해 데이터는 각 계층에서 필요한 제어 정보를 갖게 됩니다.
                </p>
                <p class="text-stone-600 leading-relaxed">
                    <strong>역캡슐화 (De-encapsulation):</strong> 수신 측에서는 물리 계층에서부터 응용 계층으로 데이터가 올라가면서 각 계층의 헤더(및 트레일러)가 제거됩니다. 이 과정을 통해 원래의 데이터가 복원되어 상위 계층으로 전달됩니다.
                </p>
            </div>
            <div class="mt-6 bg-white p-6 rounded-lg shadow-lg">
                <h3 class="text-xl font-semibold mb-3 text-stone-700">OSI 모델의 이점</h3>
                 <ul class="list-disc list-inside text-stone-600 leading-relaxed space-y-1">
                    <li>네트워크 통신의 복잡성을 줄이고 계층별로 나누어 이해하기 쉽게 합니다.</li>
                    <li>표준화를 통해 여러 제조업체의 장비 간 상호 운용성을 증진시킵니다.</li>
                    <li>특정 계층의 변경이 다른 계층에 미치는 영향을 최소화하여 기술 개발과 유지보수를 용이하게 합니다.</li>
                    <li>네트워크 문제 해결 시 체계적인 접근 방식을 제공합니다.</li>
                </ul>
            </div>
        </section>

        <section id="tcpip" class="content-section">
            <h2 class="text-2xl font-semibold mb-6 text-sky-700">TCP/IP 스택 (Transmission Control Protocol / Internet Protocol)</h2>
             <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
                <h3 class="text-xl font-semibold mb-3 text-stone-700">TCP/IP 스택 개요</h3>
                <p class="text-stone-600 leading-relaxed mb-2">
                    TCP/IP(Transmission Control Protocol/Internet Protocol) 스택은 현재 인터넷 및 대부분의 컴퓨터 네트워크에서 사용되는 주요 프로토콜 모음입니다. 1960년대 미국 국방부의 ARPA(Advanced Research Projects Agency)에서 개발되었으며, OSI 모델보다 먼저 등장하여 사실상의 표준으로 자리 잡았습니다. OSI 모델이 개념적 참조 모델인 반면, TCP/IP 스택은 실제 네트워크에서 데이터를 전송하는 데 사용되는 실용적인 프로토콜 집합입니다. 이 섹션에서는 TCP/IP 스택의 4계층 구조와 각 계층의 역할을 대화형으로 학습합니다.
                </p>
                 <p class="text-stone-600 leading-relaxed">
                    아래 다이어그램에서 각 계층을 클릭하여 상세 정보(기능, 주요 프로토콜, PDU 등)를 확인해보세요.
                </p>
            </div>

            <div class="flex flex-col lg:flex-row gap-6">
                <div id="tcpip-layers-diagram" class="lg:w-1/3 grid grid-cols-1 gap-2">
                    </div>
                <div id="tcpip-layer-details" class="lg:w-2/3 bg-white p-6 rounded-lg shadow-lg details-pane overflow-y-auto">
                     <p class="text-stone-500 italic">왼쪽 다이어그램에서 계층을 선택하여 설명을 확인하세요.</p>
                </div>
            </div>
        </section>

        <section id="comparison" class="content-section">
            <h2 class="text-2xl font-semibold mb-6 text-sky-700">OSI 모델과 TCP/IP 스택 비교</h2>
            <div class="bg-white p-6 rounded-lg shadow-lg mb-6">
                <h3 class="text-xl font-semibold mb-3 text-stone-700">두 모델의 관계</h3>
                <p class="text-stone-600 leading-relaxed">
                    OSI 모델과 TCP/IP 스택은 네트워크 통신을 계층적으로 설명하는 두 가지 주요 모델입니다. OSI 모델은 7계층의 이론적 프레임워크를 제공하는 반면, TCP/IP 스택은 4계층(또는 5계층으로 설명되기도 함)으로 구성된 실질적인 인터넷 프로토콜 모음입니다. TCP/IP가 OSI 모델보다 먼저 개발되었지만, OSI 모델은 네트워킹 개념을 교육하고 이해하는 데 여전히 중요한 참조 모델로 사용됩니다. 이 섹션에서는 두 모델의 계층이 어떻게 서로 매핑되는지 시각적으로 비교하여 보여줍니다.
                </p>
            </div>

            <div class="bg-white p-6 rounded-lg shadow-lg overflow-x-auto">
                <div class="grid grid-cols-2 gap-0 min-w-[600px] comparison-grid">
                    <div class="font-bold text-lg p-3 bg-stone-200 text-stone-700 text-center">OSI 모델 (7 계층)</div>
                    <div class="font-bold text-lg p-3 bg-stone-200 text-stone-700 text-center">TCP/IP 스택 (4 계층)</div>

                    <div class="p-3 border-t-0">7. 응용 계층 (Application)</div>
                    <div class="p-3 row-span-3 border-l-0 border-t-0 flex items-center justify-center bg-sky-50">응용 계층 (Application)</div>
                    <div class="p-3">6. 표현 계층 (Presentation)</div>
                    <div class="p-3">5. 세션 계층 (Session)</div>

                    <div class="p-3 bg-emerald-50">4. 전송 계층 (Transport)</div>
                    <div class="p-3 bg-emerald-50 border-l-0 flex items-center justify-center">전송 계층 (Transport)</div>

                    <div class="p-3 bg-amber-50">3. 네트워크 계층 (Network)</div>
                    <div class="p-3 bg-amber-50 border-l-0 flex items-center justify-center">인터넷 계층 (Internet)</div>

                    <div class="p-3">2. 데이터 링크 계층 (Data-Link)</div>
                    <div class="p-3 row-span-2 border-l-0 flex items-center justify-center bg-rose-50">네트워크 액세스 계층 (Link / Network Access)</div>
                    <div class="p-3">1. 물리 계층 (Physical)</div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-stone-800 text-stone-300 text-center p-6 mt-12">
        <p>&copy; 2025 CCNA 학습 자료. Flackbox PDF 내용 기반.</p>
    </footer>

    <script>
        const navButtons = document.querySelectorAll('.nav-button');
        const contentSections = document.querySelectorAll('.content-section');
        const characteristicDetailsDiv = document.getElementById('characteristic-details');
        const osiLayersDiagramDiv = document.getElementById('osi-layers-diagram');
        const osiLayerDetailsDiv = document.getElementById('osi-layer-details');
        const tcpipLayersDiagramDiv = document.getElementById('tcpip-layers-diagram');
        const tcpipLayerDetailsDiv = document.getElementById('tcpip-layer-details');

        const networkCharacteristicsData = [
            { id: 'topology', name: '토폴로지 (Topology)', description: '네트워크의 물리적 또는 논리적 연결 구조를 의미합니다. 예: 스타형, 버스형, 링형, 메시형 등.' },
            { id: 'speed', name: '속도 (Speed)', description: '데이터가 네트워크를 통해 전송되는 빠르기를 나타냅니다 (예: Mbps, Gbps). 대역폭, 지연 시간 등 여러 요인의 영향을 받습니다.' },
            { id: 'cost', name: '비용 (Cost)', description: '네트워크 구축 및 유지보수에 드는 전체 비용입니다. 초기 설치 비용과 운영 비용을 포함합니다.' },
            { id: 'security', name: '보안 (Security)', description: '네트워크 자산(데이터, 장비)을 다양한 위협(바이러스, 해킹 등)으로부터 보호하는 것을 의미합니다. 방화벽, VPN, 암호화 등이 사용됩니다.' },
            { id: 'availability', name: '가용성 (Availability)', description: '네트워크가 실제로 사용 가능하고 정상적으로 작동하는 시간의 비율을 나타냅니다. 고가용성을 위해 이중화 등의 기술이 사용됩니다.' },
            { id: 'scalability', name: '확장성 (Scalability)', description: '네트워크의 규모가 커지거나 사용자 수가 증가할 때 성능 저하 없이 쉽게 확장할 수 있는 능력을 의미합니다.' },
            { id: 'reliability', name: '신뢰성 (Reliability)', description: '네트워크가 고장 없이 일관되게 의도한 대로 작동하는 정도를 나타냅니다. 오류 감지 및 복구 메커니즘이 중요합니다.' }
        ];

        const osiLayersData = [
            { name: '7. 응용 계층 (Application)', pdu: '데이터 (Data)', color: 'bg-purple-100', hoverColor: 'hover:bg-purple-200', details: '사용자 애플리케이션에 네트워크 서비스를 제공합니다. HTTP, FTP, SMTP, DNS 등의 프로토콜이 이 계층에서 작동합니다. 다른 OSI 계층에 서비스를 제공하지 않는 유일한 계층입니다. 통신 상대방의 가용성을 확인하고 오류 복구 및 데이터 무결성 제어 절차를 설정합니다.' , devices: '호스트, 게이트웨이(일부 기능)'},
            { name: '6. 표현 계층 (Presentation)', pdu: '데이터 (Data)', color: 'bg-indigo-100', hoverColor: 'hover:bg-indigo-200', details: '데이터의 형식(format)을 정의하고, 암호화(encryption) 및 압축(compression)을 수행합니다. 한 시스템의 애플리케이션이 다른 시스템의 애플리케이션에서 온 정보를 이해할 수 있도록 보장합니다. 예: ASCII, EBCDIC, JPEG, MPEG.', devices: '호스트, 게이트웨이(일부 기능)' },
            { name: '5. 세션 계층 (Session)', pdu: '데이터 (Data)', color: 'bg-blue-100', hoverColor: 'hover:bg-blue-200', details: '통신하는 호스트 간의 세션(연결)을 설정, 관리 및 종료합니다. 대화 제어(dialog control), 동기화(synchronization) 기능을 제공합니다. 예: NetBIOS, RPC.', devices: '호스트, 게이트웨이(일부 기능)' },
            { name: '4. 전송 계층 (Transport)', pdu: '세그먼트 (Segment) / 데이터그램 (Datagram)', color: 'bg-green-100', hoverColor: 'hover:bg-green-200', details: '종단 간(end-to-end) 신뢰성 있고 정확한 데이터 전송을 담당합니다. TCP(신뢰성, 연결 지향)와 UDP(비신뢰성, 비연결 지향) 프로토콜이 대표적입니다. 흐름 제어, 오류 제어, 포트 번호를 사용한 프로세스 식별 기능을 제공합니다.', devices: '호스트, 방화벽(일부 기능)' },
            { name: '3. 네트워크 계층 (Network)', pdu: '패킷 (Packet)', color: 'bg-yellow-100', hoverColor: 'hover:bg-yellow-200', details: '데이터를 목적지까지 가장 안전하고 빠르게 전달하는 경로 선택(라우팅)을 담당합니다. IP 주소를 사용하여 논리적 주소 지정을 수행합니다. 대표적인 프로토콜은 IP(Internet Protocol)이며, 라우터가 이 계층에서 작동합니다.', devices: '라우터, L3 스위치' },
            { name: '2. 데이터 링크 계층 (Data-Link)', pdu: '프레임 (Frame)', color: 'bg-orange-100', hoverColor: 'hover:bg-orange-200', details: '물리적 링크를 통해 신뢰성 있는 데이터 전송을 제공합니다. MAC 주소를 사용하여 물리적 주소 지정을 수행하고, 오류 감지 및 흐름 제어를 담당합니다. 이더넷(Ethernet), PPP 등의 프로토콜이 있으며, 스위치와 브리지가 이 계층에서 작동합니다.', devices: '스위치, 브리지, NIC(네트워크 인터페이스 카드)' },
            { name: '1. 물리 계층 (Physical)', pdu: '비트 (Bit)', color: 'bg-red-100', hoverColor: 'hover:bg-red-200', details: '데이터를 전기적 신호, 광 신호 또는 무선 신호로 변환하여 물리적인 매체를 통해 전송합니다. 케이블 종류, 커넥터, 전압 레벨, 데이터 전송률 등을 정의합니다. 허브, 리피터, 케이블, 트랜시버 등이 이 계층에 해당합니다.', devices: '허브, 리피터, 케이블, NIC' }
        ].reverse(); 

        const tcpIpLayersData = [
            { name: '4. 응용 계층 (Application)', pdu: '데이터 (Data)', color: 'bg-purple-100', hoverColor: 'hover:bg-purple-200', details: 'OSI 모델의 응용, 표현, 세션 계층의 기능을 포함합니다. 사용자에게 직접 서비스를 제공하는 애플리케이션 프로토콜(HTTP, FTP, SMTP, DNS, Telnet 등)을 정의합니다. 데이터 표현, 인코딩 및 대화 제어를 담당합니다.', protocols: 'HTTP, HTTPS, FTP, SMTP, DNS, DHCP, Telnet, SSH' },
            { name: '3. 전송 계층 (Transport)', pdu: '세그먼트 (Segment) / 데이터그램 (Datagram)', color: 'bg-green-100', hoverColor: 'hover:bg-green-200', details: 'OSI 모델의 전송 계층과 유사한 기능을 수행합니다. 종단 간 통신을 위한 신뢰성 및 흐름 제어를 제공합니다. 주요 프로토콜은 TCP(신뢰성, 연결 지향)와 UDP(비신뢰성, 비연결 지향)입니다. 포트 번호를 사용하여 상위 계층 애플리케이션을 구분합니다.', protocols: 'TCP, UDP' },
            { name: '2. 인터넷 계층 (Internet)', pdu: '패킷 (Packet)', color: 'bg-yellow-100', hoverColor: 'hover:bg-yellow-200', details: 'OSI 모델의 네트워크 계층에 해당합니다. 데이터 패킷의 경로를 결정하고(라우팅), 논리적 주소 지정(IP 주소)을 담당합니다. 주요 프로토콜은 IP(Internet Protocol)이며, ICMP, IGMP, ARP(일부 관점) 등도 관련됩니다.', protocols: 'IP (IPv4, IPv6), ICMP, IGMP, ARP (일부 기능)' },
            { name: '1. 네트워크 액세스 계층 (Link / Network Access)', pdu: '프레임 (Frame)', color: 'bg-red-100', hoverColor: 'hover:bg-red-200', details: 'OSI 모델의 데이터 링크 계층과 물리 계층의 기능을 결합합니다. 실제 네트워크 하드웨어(NIC, 케이블 등)와 관련된 모든 측면을 다룹니다. 데이터의 프레임화, MAC 주소를 이용한 물리적 주소 지정, 물리적 매체를 통한 비트 전송 등을 담당합니다. 이더넷, Wi-Fi, 토큰링 등이 이 계층의 기술에 해당합니다.', protocols: 'Ethernet, Wi-Fi (802.11), PPP, Frame Relay, ATM' }
        ].reverse();

        function initApp() {
            renderNetworkCharacteristics();
            renderOsiLayers();
            renderTcpIpLayers();
            
            navButtons.forEach(button => {
                button.addEventListener('click', () => {
                    const targetId = button.dataset.target;
                    
                    navButtons.forEach(btn => btn.classList.remove('active'));
                    button.classList.add('active');
                    
                    contentSections.forEach(section => {
                        if (section.id === targetId) {
                            section.classList.add('active');
                        } else {
                            section.classList.remove('active');
                        }
                    });
                    // Reset details panes when switching sections
                    characteristicDetailsDiv.innerHTML = '<p class="text-stone-500 italic">위의 특성 중 하나를 클릭하여 설명을 확인하세요.</p>';
                    osiLayerDetailsDiv.innerHTML = '<p class="text-stone-500 italic">왼쪽 다이어그램에서 계층을 선택하여 설명을 확인하세요.</p>';
                    tcpipLayerDetailsDiv.innerHTML = '<p class="text-stone-500 italic">왼쪽 다이어그램에서 계층을 선택하여 설명을 확인하세요.</p>';
                    
                    // Remove selection from layer boxes
                    document.querySelectorAll('.layer-box.selected').forEach(box => box.classList.remove('selected'));
                });
            });
            // Activate the first section by default
            document.querySelector('.nav-button[data-target="basics"]').click();
        }

        function renderNetworkCharacteristics() {
            const container = document.querySelector('#basics .grid');
            container.innerHTML = ''; 
            networkCharacteristicsData.forEach(char => {
                const card = document.createElement('div');
                card.className = 'characteristic-card bg-white p-4 rounded-lg shadow hover:shadow-md cursor-pointer';
                card.innerHTML = `<h4 class="font-semibold text-md text-sky-600">${char.name}</h4>`;
                card.addEventListener('click', () => {
                    characteristicDetailsDiv.innerHTML = `
                        <h4 class="font-semibold text-lg text-sky-700 mb-2">${char.name}</h4>
                        <p class="text-stone-600 leading-relaxed">${char.description}</p>
                    `;
                });
                container.appendChild(card);
            });
        }
        
        function createLayerBox(layerData, detailsDiv, type) {
            const layerBox = document.createElement('div');
            layerBox.className = `layer-box p-4 rounded-md shadow text-center cursor-pointer ${layerData.color} ${layerData.hoverColor} text-stone-700 font-medium`;
            layerBox.textContent = layerData.name;
            layerBox.addEventListener('click', () => {
                document.querySelectorAll(`#${type}-layers-diagram .layer-box`).forEach(box => box.classList.remove('selected'));
                layerBox.classList.add('selected');
                
                let detailsHtml = `
                    <h3 class="text-xl font-bold text-sky-700 mb-3">${layerData.name}</h3>
                    <p class="text-stone-600 leading-relaxed mb-2"><strong>PDU:</strong> ${layerData.pdu}</p>
                    <p class="text-stone-600 leading-relaxed mb-2"><strong>주요 기능 및 설명:</strong> ${layerData.details}</p>
                `;
                if (type === 'osi' && layerData.devices) {
                     detailsHtml += `<p class="text-stone-600 leading-relaxed"><strong>관련 장비:</strong> ${layerData.devices}</p>`;
                }
                if (type === 'tcpip' && layerData.protocols) {
                     detailsHtml += `<p class="text-stone-600 leading-relaxed"><strong>주요 프로토콜:</strong> ${layerData.protocols}</p>`;
                }
                detailsDiv.innerHTML = detailsHtml;
            });
            return layerBox;
        }

        function renderOsiLayers() {
            osiLayersDiagramDiv.innerHTML = '';
            osiLayersData.forEach(layer => {
                const layerBox = createLayerBox(layer, osiLayerDetailsDiv, 'osi');
                osiLayersDiagramDiv.appendChild(layerBox);
            });
        }

        function renderTcpIpLayers() {
            tcpipLayersDiagramDiv.innerHTML = '';
            tcpIpLayersData.forEach(layer => {
                const layerBox = createLayerBox(layer, tcpipLayerDetailsDiv, 'tcpip');
                tcpipLayersDiagramDiv.appendChild(layerBox);
            });
        }

        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
